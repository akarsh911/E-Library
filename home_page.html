<!DOCTYPE html>
<html>
    <head>
            <title>Spotify Playlist Converter</title>
    </head>
    <script>
        function get_form_data()
        {
          const url=document.querySelector('#spotify_url');
          var val=url.value;
          var url_array=val.split("https://open.spotify.com/playlist/");
         
          if(url_array[0]!=""||url_array=="")
          {
            alert("not a valid spotify url")
          }
          else
          {
            var url_extra=url_array[1].split("?");
            alert (url_extra[0]);
            var xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
       // Typical action to be performed when the document is ready:
       document.getElementById("demo").innerHTML = xhttp.responseText;
         }
        };
        xhttp.open("GET", "api.spotify.com/v1/playlists/"+url_extra[0]+"/tracks", true);
        xhttp.setRequestHeader("Content-Type", "application/json");
        xhttp.setRequestHeader("Authorization", "Bearer BQATpiQu1Uo9w3ohCFRmrXcaDDROsozCVs0j2LNLsOz-aV654DSIvLo9zpt15IwDwWHaFxvYagp83FreOtNjX4layH7k5FULapgaPYZd2dN6tM643soceHX6R0LhxPid0ZSLpq082ga_l_SfV04asF7fFRG8qHiVAdsY2poL_ftHE58oxeiMKqLVD_6QoLEFv2UZWAY5GXYTgdJR3g");
        xhttp.send();

          }
         
        }
    </script>
    <body>
            <form method="post" action="javascript:void(0);" onsubmit="get_form_data()" id="spotify_url_form">
                <input type="url" name="spotify_url" id="spotify_url" placeholder="playlist url here" required>
                <input type="submit">
            </form>
            <div id="demo"></div>
    </body>
</html>